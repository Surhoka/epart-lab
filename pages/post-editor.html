<div x-data="postEditor" id="post-editor-page" class="w-full animate-fade-in">
    <!-- Header: Title & Global Actions -->
    <div class="mb-8 flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between">
        <div class="flex-1">
            <nav class="mb-2 flex text-xs font-medium text-gray-400 uppercase tracking-widest">
                <span class="hover:text-brand-500 transition-colors cursor-pointer">Posts</span>
                <span class="mx-2">/</span>
                <span class="text-gray-900 dark:text-white">New Classic Post</span>
            </nav>
            <input type="text" x-model="post.title" placeholder="Enter post title here..."
                class="w-full border-none bg-transparent p-0 text-3xl font-extrabold tracking-tight text-gray-900 placeholder:text-gray-200 focus:ring-0 dark:text-white dark:placeholder:text-gray-800 lg:text-4xl" />
        </div>

        <div class="flex items-center gap-3">
            <button @click="saveDraft()"
                class="group flex items-center gap-2 rounded-2xl border border-gray-200 bg-white px-5 py-3 text-sm font-bold text-gray-600 transition-all hover:border-gray-300 hover:bg-gray-50 active:scale-95 dark:border-gray-800 dark:bg-white/5 dark:text-gray-400 dark:hover:bg-white/10">
                <span class="w-4 h-4 text-gray-400 group-hover:text-gray-600 transition-colors"
                    x-icon="'refresh'"></span>
                Save Draft
            </button>
            <button @click="publishPost()"
                class="flex items-center gap-2 rounded-2xl bg-brand-500 px-8 py-3 text-sm font-bold text-white shadow-xl shadow-brand-500/25 transition-all hover:bg-brand-600 hover:scale-[1.02] active:scale-95">
                <span class="w-4 h-4" x-icon="'zap'"></span>
                Publish
            </button>
        </div>
    </div>

    <!-- Main Workspace -->
    <div class="grid grid-cols-1 gap-8 lg:grid-cols-12">

        <!-- Left: Editor Body -->
        <div class="lg:col-span-9 space-y-6">

            <!-- Sticky Formatting Toolbar -->
            <div
                class="sticky top-[86px] z-40 flex flex-wrap items-center gap-1 rounded-2xl border border-gray-200 bg-white/70 p-2 shadow-sm backdrop-blur-2xl dark:border-gray-800 dark:bg-black/60">

                <!-- Group: Text Style -->
                <div class="flex items-center px-1">
                    <select
                        class="h-9 rounded-xl border-none bg-transparent pr-8 text-xs font-bold text-gray-700 focus:ring-0 dark:text-gray-300 cursor-pointer">
                        <option>Paragraph</option>
                        <option>Heading 1</option>
                        <option>Heading 2</option>
                        <option>Heading 3</option>
                        <option>Quote</option>
                    </select>
                </div>

                <div class="h-6 w-px bg-gray-100 dark:bg-gray-800 mx-1"></div>

                <!-- Group: Basic Formatting -->
                <div class="flex items-center gap-0.5">
                    <template x-for="tool in formattingTools">
                        <button @click="execCommand(tool.cmd)" :title="tool.label"
                            class="flex h-9 w-9 items-center justify-center rounded-xl text-gray-500 transition-all hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-white">
                            <span class="w-4 h-4" x-icon="tool.icon"></span>
                        </button>
                    </template>
                </div>

                <div class="h-6 w-px bg-gray-100 dark:bg-gray-800 mx-1"></div>

                <!-- Group: Alignment -->
                <div class="flex items-center gap-0.5">
                    <button
                        class="flex h-9 w-9 items-center justify-center rounded-xl text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5"><span
                            class="w-4 h-4" x-icon="'align-left'"></span></button>
                    <button
                        class="flex h-9 w-9 items-center justify-center rounded-xl text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5"><span
                            class="w-4 h-4" x-icon="'align-center'"></span></button>
                    <button
                        class="flex h-9 w-9 items-center justify-center rounded-xl text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5"><span
                            class="w-4 h-4" x-icon="'align-right'"></span></button>
                </div>

                <div class="h-6 w-px bg-gray-100 dark:bg-gray-800 mx-1"></div>

                <!-- Group: Insert -->
                <div class="flex items-center gap-0.5">
                    <button
                        class="flex h-9 w-9 items-center justify-center rounded-xl text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5"><span
                            class="w-4 h-4" x-icon="'link'"></span></button>
                    <button
                        class="flex h-9 w-9 items-center justify-center rounded-xl text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5"><span
                            class="w-4 h-4" x-icon="'image'"></span></button>
                </div>

                <div class="ml-auto flex items-center gap-1">
                    <button
                        class="flex h-9 w-9 items-center justify-center rounded-xl text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"><span
                            class="w-4 h-4" x-icon="'undo'"></span></button>
                    <button
                        class="flex h-9 w-9 items-center justify-center rounded-xl text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"><span
                            class="w-4 h-4" x-icon="'redo'"></span></button>
                </div>
            </div>

            <!-- Editor Content Area -->
            <div
                class="group relative min-h-[600px] rounded-[32px] border border-gray-200 bg-white p-10 shadow-sm transition-all focus-within:border-brand-500/30 focus-within:shadow-2xl focus-within:shadow-brand-500/5 dark:border-gray-800 dark:bg-white/[0.01]">
                <div id="classic-editor-body" contenteditable="true"
                    class="prose prose-lg prose-slate dark:prose-invert max-w-none min-h-[500px] focus:outline-none 
                    [&_p]:mb-4 [&_h1]:text-4xl [&_h2]:text-3xl [&_h3]:text-2xl [&_ul]:list-disc [&_ol]:list-decimal [&_blockquote]:italic [&_blockquote]:border-l-4 [&_blockquote]:border-brand-500/50 [&_blockquote]:pl-4 [&_blockquote]:py-2 [&_blockquote]:bg-brand-500/5 [&_pre]:bg-slate-900 [&_pre]:p-4 [&_pre]:rounded-xl"
                    placeholder="Start telling your story...">
                    <p>Once upon a time...</p>
                </div>

                <!-- Word Count & Info Overlay -->
                <div
                    class="absolute bottom-6 left-10 flex items-center gap-4 text-[10px] font-bold uppercase tracking-widest text-gray-400">
                    <div class="flex items-center gap-1.5">
                        <span class="h-1.5 w-1.5 rounded-full bg-green-500"></span>
                        Auto-saved at 14:32
                    </div>
                    <div class="h-4 w-px bg-gray-100 dark:bg-gray-800"></div>
                    <div>234 Words</div>
                </div>
            </div>
        </div>

        <!-- Right: Sidebar Settings -->
        <div class="lg:col-span-3 space-y-6">

            <!-- Publish Settings -->
            <div
                class="rounded-3xl border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-slate-900/50">
                <h3 class="mb-4 flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-gray-500">
                    <span class="w-4 h-4" x-icon="'settings'"></span>
                    Publish Configuration
                </h3>
                <div class="space-y-5">
                    <div>
                        <label class="mb-1.5 block text-[10px] font-bold uppercase text-gray-400">Status</label>
                        <div class="flex items-center gap-2">
                            <span class="h-2 w-2 rounded-full bg-amber-500"></span>
                            <span class="text-sm font-semibold text-gray-700 dark:text-gray-300">Drafting</span>
                        </div>
                    </div>
                    <div>
                        <label class="mb-1.5 block text-[10px] font-bold uppercase text-gray-400">Permalinks</label>
                        <div class="rounded-xl bg-gray-50 p-3 text-xs text-gray-500 dark:bg-black/20">
                            ezyparts.com/posts/<span class="text-brand-500 font-bold"
                                x-text="post.slug || 'your-title'">...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Categories -->
            <div
                class="rounded-3xl border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-slate-900/50">
                <h3 class="mb-4 flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-gray-500">
                    <span class="w-4 h-4" x-icon="'plus'"></span>
                    Categories
                </h3>
                <div class="max-h-[200px] space-y-2 overflow-y-auto no-scrollbar pr-2">
                    <template x-for="cat in categories">
                        <label
                            class="flex cursor-pointer items-center gap-3 group rounded-xl p-2 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
                            <input type="checkbox"
                                class="h-5 w-5 rounded-lg border-gray-300 bg-white text-brand-500 focus:ring-brand-500/20 dark:border-gray-700 dark:bg-slate-800" />
                            <span
                                class="text-sm font-medium text-gray-600 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white transition-colors"
                                x-text="cat"></span>
                        </label>
                    </template>
                </div>
                <button
                    class="mt-4 flex w-full items-center justify-center gap-2 rounded-xl border border-dashed border-gray-200 py-3 text-xs font-bold text-gray-400 transition-all hover:border-brand-500/50 hover:text-brand-500 dark:border-gray-800">
                    Create New Category
                </button>
            </div>

            <!-- Meta / Tags -->
            <div
                class="rounded-3xl border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-slate-900/50">
                <h3 class="mb-4 flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-gray-500">
                    <span class="w-4 h-4" x-icon="'link'"></span>
                    Tags
                </h3>
                <input type="text" placeholder="Add tags separated by comma..."
                    class="w-full rounded-xl border-gray-100 bg-gray-50 px-4 py-3 text-sm focus:border-brand-500 focus:ring-brand-500/10 dark:border-gray-800 dark:bg-black/50" />
                <div class="mt-4 flex flex-wrap gap-2">
                    <span
                        class="rounded-lg bg-gray-50 px-2 py-1 text-[10px] font-bold text-gray-500 dark:bg-white/5">#automotive</span>
                    <span
                        class="rounded-lg bg-gray-50 px-2 py-1 text-[10px] font-bold text-gray-500 dark:bg-white/5">#business</span>
                </div>
            </div>

        </div>
    </div>

</div>
